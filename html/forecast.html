<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Stock Forecast Dashboard</title>
   <link rel="stylesheet" href="../css/forecast.css">
</head>
<body>
  <div class="container">
    <h1 class="card">An Automated NEPSE Bluechips Stocks 15 Days Price Trend Forecast Using LSTM RNN</h1>

    <div class="card">
      <h2>Live Forecasts</h2>
      <h3>NABIL - Forecast & Performance</h3>
      <div class="plot-container" id="nabil-forecast-container">
        <p class="loading" id="nabil-forecast-loading">Loading NABIL forecast...</p>
        <img id="nabil-forecast-image" src="" alt="NABIL Stock Forecast Plot" style="display:none;">
      </div>
      <div class="plot-container" id="nabil-evaluation-container">
        <p class="loading" id="nabil-evaluation-loading">Loading NABIL evaluation chart...</p>
        <img id="nabil-evaluation-image" src="" alt="NABIL Model Evaluation Plot" style="display:none;">
      </div>

      <h3>NLIC - Forecast & Performance</h3>
      <div class="plot-container" id="nlic-forecast-container">
        <p class="loading" id="nlic-forecast-loading">Loading NLIC forecast...</p>
        <img id="nlic-forecast-image" src="" alt="NLIC Stock Forecast Plot" style="display:none;">
      </div>
      <div class="plot-container" id="nlic-evaluation-container">
        <p class="loading" id="nlic-evaluation-loading">Loading NLIC evaluation chart...</p>
        <img id="nlic-evaluation-image" src="" alt="NLIC Model Evaluation Plot" style="display:none;">
      </div>
    </div>

    <div class="card">
      <h2>Project Overview</h2>
      <h3>Abstract</h3>
      <p>The volatility and complexity of financial markets necessitate the use of advanced computational tools for accurate, data-driven forecasting. This project presents the design, development, and implementation of a scalable, fully automated pipeline for forecasting the price of bluechips stocks listed on the Nepal Stock Exchange (NEPSE). The system leverages a Long Short-Term Memory (LSTM) recurrent neural network, a model architecture adept at capturing temporal dependencies in time-series data. A unique, dedicated model is trained for each individual stock to ensure specialized and accurate predictions.</p>
      <p>The pipeline automates the entire workflow: daily data acquisition via an efficient incremental web scraper, data cleaning and feature engineering, conditional model retraining to conserve computational resources, and the generation of predictive visualizations. The final 15-day forecast and a model performance evaluation chart are served via a dynamic web API, making the insights readily accessible for integration into a web-based dashboard.</p>
    </div>

    <div class="card">
      <h2>Chapter 1: Introduction</h2>
      <h3>1.1 Background and Motivation</h3>
      <p>In today's financial landscape, the ability to forecast stock price movements is a significant advantage for investors. Traditional analysis methods are often manual, time-consuming, and may not capture the intricate, non-linear patterns present in market data. This project is motivated by the need for an accessible, automated tool that leverages the power of deep learning to provide timely and data-driven insights for bluechips stocks on the Nepal Stock Exchange (NEPSE).</p>
      <h3>1.2 Problem Statement</h3>
      <p>The core challenge is to architect a system that can autonomously manage the entire forecasting process for multiple stocks. This includes collecting daily data, learning from it, and producing relevant forecasts without manual intervention. A key requirement is computational efficiency; the system must avoid redundant data processing and only perform resource-intensive model training when new information becomes available.</p>
    </div>

    <div class="card">
      <h2>Chapter 2: System Architecture and Methodology</h2>
      <h3>2.1 System Overview</h3>
      <p>The system is built on a modular, event-driven architecture. A central scheduler orchestrates the daily workflow, triggering a series of specialized modules that handle data acquisition, processing, modeling, and visualization for each configured stock.</p>
    </div>

    <div class="card">
      <h2>Chapter 3: Technology Stack</h2>
      <ul>
        <li><strong>Programming Language:</strong> Python</li>
        <li><strong>Machine Learning Framework:</strong> TensorFlow with Keras</li>
        <li><strong>Data Storage:</strong> SQLite</li>
        <li><strong>Web Framework & API:</strong> Flask</li>
        <li><strong>Data Manipulation & Analysis:</strong> Pandas, NumPy</li>
        <li><strong>Web Scraping:</strong> Requests, Beautiful Soup</li>
        <li><strong>Scheduling:</strong> APScheduler</li>
        <li><strong>Visualization:</strong> Matplotlib, VisualKeras</li>
      </ul>
    </div>

    <div class="card">
      <h2>Chapter 4: Implementation and Results</h2>
      <h3>4.1 Model Implementation Details</h3>
      <p>Each individual stock model is trained on 80% of its historical data, with 20% used for validation. The Adam optimizer is used with a Mean Squared Error loss function for 50 epochs.</p>
      <h3>4.2 Visualization of Results</h3>
      <p>For each stock, the system generates two distinct visualizations:</p>
      <ul>
        <li><strong>Forecast Plot:</strong> A forward-looking chart showing the last 200 days of actual prices followed by a continuous, annotated 15-day forecast.</li>
        <li><strong>Evaluation Plot:</strong> A "report card" showing how the model's predictions compared against the actual, unseen prices from the validation dataset during its last training session.</li>
      </ul>
    </div>

    <div class="card">
      <h2>Chapter 5: Conclusion and Future Work</h2>
      <h3>5.1 Conclusion</h3>
      <p>This project successfully demonstrates the creation of a scalable and automated pipeline for multi-stock price forecasting. By integrating a smart scraper, a robust database structure, and an intelligent training scheduler, the system provides timely, relevant, and specialized forecasts for individual stocks while maintaining computational efficiency.</p>
      <h3>5.2 Future Work</h3>
      <ul>
        <li><strong>Database Migration:</strong> For a larger number of stocks, migrate from SQLite to a more robust client-server database like PostgreSQL or MySQL.</li>
        <li><strong>Hyperparameter Tuning:</strong> Implement an automated framework to systematically find the optimal architecture and training parameters for each stock model.</li>
        <li><strong>Interactive Frontend:</strong> Develop a dynamic dashboard using a JavaScript charting library (e.g., Chart.js).</li>
      </ul>
    </div>

  </div>

  <script>
    function fetchImage(apiUrl, imgId, loadingId) {
      const imgElement = document.getElementById(imgId);
      const loadingElement = document.getElementById(loadingId);
      fetch(apiUrl)
        .then(response => {
          if (!response.ok) { throw new Error('Image not available yet.'); }
          return response.blob();
        })
        .then(imageBlob => {
          const objectURL = URL.createObjectURL(imageBlob);
          imgElement.src = objectURL;
          imgElement.style.display = 'block';
          loadingElement.style.display = 'none';
        })
        .catch(error => {
          console.error('Error fetching image:', error);
          loadingElement.textContent = 'Could not load chart. Please check back later.';
        });
    }
    /*
    document.addEventListener("DOMContentLoaded", function() {
      const serverBaseUrl = 'http://127.0.0.1:5000';
      fetchImage(serverBaseUrl + '/forecast/NABIL', 'nabil-forecast-image', 'nabil-forecast-loading');
      fetchImage(serverBaseUrl + '/evaluation/NABIL', 'nabil-evaluation-image', 'nabil-evaluation-loading');
      fetchImage(serverBaseUrl + '/forecast/NLIC', 'nlic-forecast-image', 'nlic-forecast-loading');
      fetchImage(serverBaseUrl + '/evaluation/NLIC', 'nlic-evaluation-image', 'nlic-evaluation-loading');
    });
    */
  
  </script>
</body>
</html>